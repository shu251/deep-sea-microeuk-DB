---
title: "Database main page"
format: html
editor: visual
---

# Major taxonomic groups

*Visual summaries of what groups are present?*

## Taxonomic levels in database

## Compare with PR2

*Explore alongside PR2 database* See R package for this

```{r}
# install.packages("devtools")
# devtools::install_github("pr2database/pr2database")
library(pr2database)
library(tidyverse)
```

Take a look at the whole pr2 database.

```{r}
pr2 <- pr2_database()
glimpse(pr2)
```

```{r}
unique(pr2$mixoplankton)

pr2 %>% 
  filter(sequence_hash == "047d947dee605a64843f2332d7ccd814")
```

Isolate metadata that we want about the taxonomic group and alternate taxonomic names.

```{r}
load(file = "input-data/taxonomic-lineages.RData")
colnames(taxonomic_lineages)
```

```{r}
pr2_metadata <- pr2 %>% 
  select(Domain = domain, Supergroup = supergroup, Division = division, Phylum = subdivision, Class = class, Order = order, Family = family, Genus = genus, Species = species, gb_taxonomy, metadata_remark, eukribo_UniEuk_taxonomy_string, silva_taxonomy, species_url)
```

```{r}
taxonomic_lineages_pr2 <- taxonomic_lineages %>% 
  left_join(pr2_metadata)
```

```{r}
glimpse(taxonomic_lineages_pr2)
dim(taxonomic_lineages)
```

```{r}
# write.csv(taxonomic_lineages_pr2, file = "taxonomic-assignments-p2.csv")
```

# Compare with Functional Trait Database

```{r}
fxn_trait <- read.delim("input-data/functional-traits-ramond.csv", sep = ";")
glimpse(fxn_trait)
```

# Compare with PIDA database


Datbase explores microbe-microbe interactions. 

Bjorbækmo MFM, Evenstad A, Røsæg LL, Krabberød AK, Logares R. The planktonic protist interactome: where do we stand after a century of research? ISME J 2020; 14: 544–559.

Reference: https://github.com/ramalok/PIDA/actions

Import PIDA database. 

```{r}
pida <- read.csv("input-data/PIDA_v_1.11_FORMATTED.csv")
head(pida)
```



# Phylogenetic relatedness by 18S rRNA gene

## Open tree of life

Explore the [Open tree of life](https://tree.opentreeoflife.org/opentree/argus/opentree14.9@ott93302) website. As specific branches we want to explore will be covered on this website and we plan to submit projects as well. Therefore, we need to be aware of the requirements for submission.

Detailed information on how to submit can be found [here](https://github.com/OpenTreeOfLife/opentree/wiki/Submitting-phylogenies-to-Open-Tree-of-Life). You'll need a GitHub account to access.

https://cran.r-project.org/web/packages/rotl/index.html
